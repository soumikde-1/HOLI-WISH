<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Soulful Holi Wishes | Soumik De</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Galada&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #ff007f;
            --secondary-color: #ffaa00;
            --bg-dark: #0f0c29;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            color: #ffffff;
            height: 100vh;
            height: 100dvh; 
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px; 
        }

        /* Top Center Credit */
        .top-credit {
            position: fixed;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.85);
            letter-spacing: 1px;
            z-index: 100;
            font-family: 'Poppins', sans-serif;
            text-align: center;
            width: 100%;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
        }
        
        .top-credit span {
            color: #ffaa00;
            font-weight: 600;
            font-family: 'Dancing Script', cursive;
            font-size: 1.3rem;
            letter-spacing: 1px;
        }

        #abir-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* Mobile Optimized Container */
        .container {
            position: relative;
            z-index: 10;
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            padding: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            text-align: center;
            width: 92%;
            max-width: 420px; 
            transition: transform 0.2s ease-out, opacity 0.6s ease-in-out;
            transform-style: preserve-3d;
        }

        @media (min-width: 768px) {
            .container {
                max-width: 550px;
                padding: 40px;
                border-radius: 30px;
            }
            .top-credit { top: 20px; font-size: 0.9rem; }
            .top-credit span { font-size: 1.5rem; }
        }

        @keyframes popIn {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        h1, h2 {
            font-family: 'Dancing Script', cursive;
            letter-spacing: 1px;
        }

        #intro-screen h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff007f, #ffcc00);
            -webkit-background-clip: text;
            color: transparent;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            color: #fff;
            font-size: 1.1rem;
            font-family: 'Poppins', sans-serif;
            outline: none;
            margin-bottom: 20px;
            text-align: center;
            transition: border-color 0.3s, background 0.3s, transform 0.3s;
        }

        input[type="text"]:focus {
            border-color: var(--secondary-color);
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.02);
        }

        .btn-magic {
            padding: 14px 30px;
            background: linear-gradient(45deg, #ff007f, #ffaa00);
            border: none;
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            box-shadow: 0 8px 15px rgba(255, 0, 127, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
            width: 100%; 
            margin-bottom: 12px;
        }

        .btn-magic:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 12px 20px rgba(255, 170, 0, 0.4);
        }

        .btn-share {
            background: linear-gradient(45deg, #25D366, #128C7E);
            box-shadow: 0 8px 15px rgba(37, 211, 102, 0.3);
        }

        #main-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            height: auto;
            max-height: 85vh;
            overflow-y: auto;
            animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin-top: 25px;
            padding-bottom: 30px; /* Space for image and buttons */
        }

        #main-screen::-webkit-scrollbar { width: 4px; }
        #main-screen::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 10px; }

        .wish-title {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #ff007f, #00f2fe, #4facfe, #ffaa00);
            -webkit-background-clip: text;
            color: transparent;
            animation: colorFlow 5s infinite linear;
            line-height: 1.3;
        }

        .bengali-poem {
            font-family: 'Galada', cursive;
            font-size: 1.3rem; 
            line-height: 1.9; /* Gap to prevent overlap */
            color: #f1f1f1;
            margin: 15px 0;
            padding: 15px 10px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
            border-radius: 15px;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.5);
            width: 100%;
        }

        .bengali-name {
            color: #ffaa00;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.2rem;
            display: inline-block; 
        }

        .stylish-english {
            font-family: 'Dancing Script', cursive;
            font-size: 1.7rem;
            color: #ffde00;
            margin: 10px 0 20px 0;
            line-height: 1.8; /* Gap for English font */
            padding: 0 5px;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.6);
            width: 100%;
        }

        .stylish-english span {
            opacity: 0;
            display: inline-block;
            margin-bottom: 5px; /* Vertical spacing */
            transform: translateY(10px);
            animation: fadeUp 0.5s ease forwards;
        }

        @keyframes fadeUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Image Position Adjusted further down */
        #holi-image {
            width: 90%;
            max-width: 250px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            margin-top: 20px; /* Extra space from text */
            margin-bottom: 30px; /* Space for buttons below */
            border: 2px solid rgba(255,255,255,0.2);
            display: none; 
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #holi-image.show {
            opacity: 1;
            transform: scale(1);
        }

        .button-group {
            display: flex;
            flex-direction: column; 
            gap: 5px;
            width: 100%;
            margin-bottom: 10px;
        }

        @keyframes colorFlow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }

        /* Small screen optimization */
        @media (max-width: 360px) {
            .wish-title { font-size: 2.3rem; }
            .bengali-poem { font-size: 1.1rem; line-height: 1.8; }
            .stylish-english { font-size: 1.45rem; line-height: 1.7; }
            .container { padding: 25px 15px; }
            #main-screen { max-height: 80vh; }
        }
    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="https://cdn.pixabay.com/download/audio/2024/09/16/audio_2456ac4e24.mp3" type="audio/mpeg">
    </audio>

    <div class="top-credit">
        This Page is Made By- <span>Soumik De</span>
    </div>

    <canvas id="abir-canvas"></canvas>

    <div class="container" id="intro-screen">
        <h2>Enter Your Name</h2>
        <p style="margin-bottom: 20px; color: #ccc; font-weight: 300; font-size: 0.9rem;">Let the colors welcome you...</p>
        <input type="text" id="userName" placeholder="Your beautiful name here..." autocomplete="off">
        <button class="btn-magic" onclick="startMagic()">See Magic</button>
    </div>

    <div class="container" id="main-screen">
        <h1 class="wish-title">Happy Holi,<br> <span id="display-name"></span></h1>
        
        <div class="bengali-poem" id="poem-container"></div>

        <div class="stylish-english" id="english-wish-container"></div>

        <img src="https://img.sanishtech.com/u/ec78d0139a2797430a1d894127b9d864.jpg" id="holi-image" alt="Holi Special">

        <div class="button-group">
            <button class="btn-magic btn-share" onclick="shareWish()">üì≤ Share via WhatsApp</button>
            <button class="btn-magic" onclick="createExplosion()">üí• Burst Colors</button>
        </div>
    </div>

    <script>
        // Aro 8-ta notun Bengali Wishes ‚úçÔ∏è
        const poemsArray = [
            "‡¶¨‡¶∏‡¶®‡ßç‡¶§‡ßá‡¶∞ ‡¶õ‡ßã‡¶Å‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶∞‡¶ô‡¶ø‡¶® ‡¶π‡ßã‡¶ï ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡¶®,<br> <span class='bengali-name'>{name}</span>-‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá ‡¶Ü‡¶∏‡ßÅ‡¶ï ‡¶ñ‡ßÅ‡¶∂‡¶ø‡¶∞ ‡¶™‡ßç‡¶≤‡¶æ‡¶¨‡¶®‡•§",
            "‡¶´‡¶æ‡¶ó‡ßÅ‡¶®‡ßá‡¶∞ ‡¶∞‡¶ô‡ßá ‡¶∞‡¶æ‡¶ô‡¶æ ‡¶π‡ßã‡¶ï ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∂,<br> <span class='bengali-name'>{name}</span>-‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶Æ‡ßÅ‡¶ñ‡ßá ‡¶´‡ßÅ‡¶ü‡ßÅ‡¶ï ‡¶Æ‡¶ø‡¶∑‡ßç‡¶ü‡¶ø ‡¶π‡¶æ‡¶∏‡¶ø‡¶∞ ‡¶¨‡¶æ‡¶§‡¶æ‡¶∏‡•§",
            "‡¶Ü‡¶¨‡¶ø‡¶∞‡ßá‡¶∞ ‡¶õ‡ßã‡¶Å‡¶Ø‡¶º‡¶æ‡¶Ø‡¶º ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶ï ‡¶∏‡¶¨ ‡¶¨‡¶ø‡¶∑‡¶æ‡¶¶,<br> <span class='bengali-name'>{name}</span>-‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá ‡¶Ü‡¶∏‡ßÅ‡¶ï ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï ‡¶™‡ßç‡¶∞‡¶≠‡¶æ‡¶§‡•§",
            "‡¶∞‡¶ô‡¶ø‡¶® ‡¶∏‡¶¨ ‡¶Ü‡¶¨‡¶ø‡¶∞‡ßá‡¶§‡ßá ‡¶Æ‡¶æ‡¶ñ‡¶æ‡¶¨‡ßã ‡¶Ü‡¶ú ‡¶§‡ßã‡¶Æ‡¶æ‡¶Ø‡¶º,<br> <span class='bengali-name'>{name}</span>-‡¶∏‡ßÅ‡¶ñ ‡¶Ü‡¶∞ ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø‡¶§‡ßá ‡¶≠‡¶∞‡ßá ‡¶â‡¶†‡ßÅ‡¶ï ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ß‡¶∞‡¶æ‡¶Ø‡¶º‡•§",
            "‡¶™‡¶≤‡¶æ‡¶∂ ‡¶´‡ßÅ‡¶≤‡¶æ ‡¶´‡¶æ‡¶ó‡ßÅ‡¶®‡ßá ‡¶Ü‡¶ú ‡¶≤‡¶æ‡¶ó‡¶≤‡ßã ‡¶Ø‡ßá ‡¶¶‡ßã‡¶≤,<br> <span class='bengali-name'>{name}</span>-‡¶∞‡¶ô‡ßá‡¶∞ ‡¶¨‡¶®‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶≠‡¶æ‡¶∏‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶æ‡¶ì ‡¶∏‡¶¨ ‡¶ó‡¶£‡ßç‡¶°‡¶ó‡ßã‡¶≤‡•§",
            "‡¶∞‡¶æ‡¶Æ‡¶ß‡¶®‡ßÅ‡¶∞ ‡¶∞‡¶ô‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶∞‡¶ô‡¶ø‡¶® ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶π‡¶æ‡¶∏‡¶ø,<br> <span class='bengali-name'>{name}</span>-‡¶Ü‡¶®‡¶®‡ßç‡¶¶‡ßá ‡¶ï‡¶æ‡¶ü‡ßÅ‡¶ï ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶¶‡¶ø‡¶®, ‡¶ú‡¶æ‡¶®‡¶æ‡¶á ‡¶∞‡¶æ‡¶∂‡¶ø ‡¶∞‡¶æ‡¶∂‡¶ø‡•§",
            "‡¶π‡ßã‡¶≤‡¶ø‡¶∞ ‡¶∞‡¶ô‡ßá‡¶∞ ‡¶è‡¶á ‡¶Æ‡ßá‡¶≤‡¶æ‡¶§‡ßá ‡¶Æ‡¶ø‡¶∂‡ßá ‡¶Ø‡¶æ‡¶ï ‡¶∏‡¶¨ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶ß‡¶æ‡¶®,<br> <span class='bengali-name'>{name}</span>-‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶¶‡¶ø‡¶® ‡¶π‡ßã‡¶ï ‡¶Ü‡¶≤‡ßã‡¶Ø‡¶º ‡¶Ü‡¶≤‡ßã‡¶ï‡¶Æ‡¶Ø‡¶º‡•§"
        ];

        // Aro 8-ta notun English Wishes (Stylish Font) üìú
        const englishWishesArray = [
            "Wishing you and your family a joyous and prosperous Festival of Colors.",
            "May the vibrant hues of Holi bring abundant success, peace, and harmony to your life.",
            "Sending you my warmest regards. Have a wonderful and safe Holi.",
            "May the colors of Holi paint the canvas of your life with laughter, happiness, and prosperity.",
            "Let the colors of Holi sprinkle joy and bring new colors to your world.",
            "Wishing you a Holi filled with sweet moments and colorful memories to cherish forever.",
            "May this festival of colors dissolve all barriers and bring you endless moments of happiness.",
            "May your life be as bright and colorful as the beautiful festival of Holi."
        ];

        function startMagic() {
            let name = document.getElementById('userName').value;
            if (name.trim() === "") {
                alert("Please write your name here cutie! ü•∞");
                return;
            }

            // Play background music (Violin & Saxophone)
            let bgMusic = document.getElementById('bgMusic');
            bgMusic.volume = 0.5; 
            bgMusic.play().catch(e => console.log("Audio autoplay prevented by browser."));

            document.getElementById('display-name').innerText = name;
            
            document.getElementById('intro-screen').style.display = 'none';
            document.getElementById('main-screen').style.display = 'flex';

            animationMode = 'burst';
            createExplosion();

            let randomPoem = poemsArray[Math.floor(Math.random() * poemsArray.length)].replace(/{name}/g, name);
            typeWriterHTML(document.getElementById('poem-container'), randomPoem, 50, function() {
                
                let randomEnglish = englishWishesArray[Math.floor(Math.random() * englishWishesArray.length)];
                animateEnglishText('english-wish-container', randomEnglish, function() {
                    
                    setTimeout(() => {
                        let img = document.getElementById('holi-image');
                        img.style.display = 'block'; 
                        setTimeout(() => {
                            img.classList.add('show'); 
                        }, 50); 
                    }, 500); // Small pause before image appears
                });
            });
        }

        function typeWriterHTML(element, htmlString, speed, callback) {
            element.innerHTML = "";
            let i = 0;
            let isTag = false;
            let text = "";
            function type() {
                if (i < htmlString.length) {
                    let char = htmlString.charAt(i);
                    text += char;
                    element.innerHTML = text;
                    if (char === '<') isTag = true;
                    if (char === '>') isTag = false;
                    i++;
                    if (isTag) {
                        type(); 
                    } else {
                        setTimeout(type, speed);
                    }
                } else if (callback) {
                    setTimeout(callback, 500); 
                }
            }
            type();
        }

        function animateEnglishText(elementId, text, callback) {
            let container = document.getElementById(elementId);
            container.innerHTML = "";
            let words = text.split(" ");
            words.forEach((word, index) => {
                let span = document.createElement("span");
                span.innerHTML = word + "&nbsp;";
                span.style.animationDelay = `${index * 0.15}s`; 
                container.appendChild(span);
            });

            if(callback) {
                let totalTime = (words.length * 0.15 + 0.5) * 1000;
                setTimeout(callback, totalTime);
            }
        }

        // Mobile Sensor for Tilt
        if (window.DeviceOrientationEvent) {
            window.addEventListener("deviceorientation", function(event) {
                let x = event.gamma; 
                let y = event.beta;  

                if (x === null || y === null) return; 

                if (x > 20) x = 20; if (x < -20) x = -20;
                if (y > 20) y = 20; if (y < -20) y = -20;

                document.querySelectorAll('.container').forEach(card => {
                    if(card.style.display !== 'none') {
                        card.style.transform = `rotateY(${x / 2}deg) rotateX(${-y / 2}deg)`;
                    }
                });
            });
        }

        document.addEventListener('mousemove', (e) => {
            document.querySelectorAll('.container').forEach(card => {
                if(card.style.display !== 'none') {
                    let xAxis = (window.innerWidth / 2 - e.pageX) / 40;
                    let yAxis = (window.innerHeight / 2 - e.pageY) / 40;
                    card.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
                }
            });
        });

        function shareWish() {
            let name = document.getElementById('userName').value;
            let currentUrl = window.location.href; 
            let text = `üé® Happy Holi! üé®\nDekho ${name} tomar jonno ki pathiyeche ekhane click kore:\n${currentUrl}`;
            let whatsappUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
            window.open(whatsappUrl, '_blank');
        }

        // --- PARTICLE SYSTEM ---
        const canvas = document.getElementById('abir-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const colors = ['#ff007f', '#ffaa00', '#00f2fe', '#4facfe', '#cc00ff', '#00ffcc', '#ff3333', '#33ff33'];
        let particles = [];
        let animationMode = 'floating';

        class Particle {
            constructor(x, y, mode) {
                this.x = x;
                this.y = y;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.size = Math.random() * 8 + 2;
                this.mode = mode;

                if (mode === 'floating') {
                    this.speedX = (Math.random() - 0.5) * 2;
                    this.speedY = (Math.random() - 0.5) * 2;
                    this.life = 1;
                    this.decay = 0; 
                } else if (mode === 'burst' || mode === 'clickBurst') {
                    const angle = Math.random() * Math.PI * 2;
                    const velocity = Math.random() * (mode === 'clickBurst' ? 8 : 15) + 3;
                    this.speedX = Math.cos(angle) * velocity;
                    this.speedY = Math.sin(angle) * velocity;
                    this.gravity = 0.15;
                    this.life = 1;
                    this.decay = Math.random() * 0.02 + 0.015;
                } else if (mode === 'raining') {
                    this.speedX = (Math.random() - 0.5) * 3;
                    this.speedY = Math.random() * 5 + 2;
                    this.life = 1;
                    this.decay = 0;
                }
            }

            update() {
                if (this.mode === 'burst' || this.mode === 'clickBurst') {
                    this.speedY += this.gravity;
                    this.life -= this.decay;
                }
                
                this.x += this.speedX;
                this.y += this.speedY;

                if (this.mode === 'floating' || this.mode === 'raining') {
                    if (this.x < 0) this.x = canvas.width;
                    if (this.x > canvas.width) this.x = 0;
                    if (this.y < 0) this.y = canvas.height;
                    if (this.y > canvas.height) this.y = 0;
                }
            }

            draw() {
                ctx.globalAlpha = Math.max(0, this.life);
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.globalAlpha = 1;
            }
        }

        function initFloating() {
            for (let i = 0; i < 150; i++) {
                particles.push(new Particle(Math.random() * canvas.width, Math.random() * canvas.height, 'floating'));
            }
        }

        function createExplosion() {
            let centerX = canvas.width / 2;
            let centerY = canvas.height / 2;
            
            for (let i = 0; i < 200; i++) {
                particles.push(new Particle(centerX, centerY, 'burst'));
            }

            setTimeout(() => {
                animationMode = 'raining';
                particles = particles.filter(p => p.mode !== 'floating');
                if(particles.filter(p => p.mode === 'raining').length < 100) {
                    for (let i = 0; i < 100; i++) {
                        particles.push(new Particle(Math.random() * canvas.width, -10, 'raining'));
                    }
                }
            }, 1500);
        }

        canvas.addEventListener('click', (e) => {
            for (let i = 0; i < 30; i++) {
                particles.push(new Particle(e.clientX, e.clientY, 'clickBurst'));
            }
        });

        document.body.addEventListener('click', (e) => {
            if(e.target.tagName !== 'BUTTON' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'IMG') {
                for (let i = 0; i < 30; i++) {
                    particles.push(new Particle(e.clientX, e.clientY, 'clickBurst'));
                }
            }
        });

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();

                if (particles[i].life <= 0) {
                    particles.splice(i, 1);
                    i--;
                }
            }
            requestAnimationFrame(animate);
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        initFloating();
        animate();
    </script>
</body>
</html>
